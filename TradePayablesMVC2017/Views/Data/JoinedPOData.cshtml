@model TradePayablesMVC2017.Models.JoinedRawAndPOInvoicesListModel

@{
    ViewBag.Title = "JoinedPOData";
}

<h2>JoinedPOData</h2>


<table id="joinedPOInvoicesTable" class="display" style="width:100%">
    <thead>
        <tr>
            <th>Purchasing Document</th>
            <th>Vendor</th>
            <th>Industry</th>
            <th>Payment Terms</th>
            <th>Amount in Local</th>
            <th>Document Date</th>
            <th>Posting Date</th>
            <th>Payment Date</th>
            <th>Credit Period</th>



        </tr>
    </thead>
    <tbody>
        @if (Model != null && Model.Invoices != null)
        {
            foreach (var item in Model.Invoices)
            {
                <tr data-row-id="@item.PurchasingDocument">
                    @* Add a data-row-id attribute for tracking *@
                    <td>@item.PurchasingDocument</td>

                    <td>@item.Vendor</td>
                    <td>@item.Industry</td>
                    <td>@item.PaymentTerms</td>

                    <td>@item.AmountLocal</td>

                    <td>@item.DocumentDate</td>
                    <td>@item.PostingDate</td>
                    <td>@item.PaymentDate</td>
                    <td>@item.CreditPeriod</td>
                </tr>
            }
        }
    </tbody>
</table>

@*<button id="saveChangesBtn" class="btn btn-primary" style="margin-top: 20px;">Save Changes</button>*@

@section scripts {
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.min.css">
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>

    <script>
        $(document).ready(function () {
            var table = $('#joinedPOInvoicesTable').DataTable({
                "paging": true,
                "searching": true,
                "ordering": true,
                "info": true,
                // Make certain columns editable
                "columnDefs": [
                    { "targets": [1, 2, 4, 5], "className": "" } // Make Vendor, Industry, Payment Terms, Doc Header Text editable
                ]
            });

        });
    </script>

    <style>
        .editable {
            cursor: pointer;
        }

            .editable input {
                width: 100%;
                box-sizing: border-box; /* Include padding and border in the element's total width and height */
            }

        .edited-row {
            background-color: #ffffcc !important; /* Light yellow to indicate edited rows */
        }
    </style>
}

